function getCookie(name) {
	let matches = document.cookie.match(new RegExp(
	"(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
	));
	return matches ? decodeURIComponent(matches[1]) : undefined;
}
let lessonName = "voda",
lessonLocation = [window.location.href, "Сравнение количества теплоты при смешивании воды разной температуры"],
lessList = ["theory", "test", "laba", "final"],
foundament = {
	main: {
		grade: 0,
		progress: 0,
		progressMax: 100,
	},
	theory: {
		open: 1,
		grade: 0,
		progress: 0,
		progressMax: 20,
	},
	test: {
		open: 0,
		grade: 0,
		progress: 0,
		progressMax: 25,
		data: 0,
	},
	laba: {
		open: 0,
		grade: 0,
		progress: 0,
		progressMax: 30,
		data: 0,
	},
	final: {
		open: 0,
		grade: 0,
		progress: 0,
		progressMax: 25,
		data: 0,
	},
},
contents = {
	theory: {
		headerCategory: "Теория",
		header: "Теплота",
		color: "#b5c3fd",
		spisok: {
			header: "Вы узнаете",
			content: [`Определение понятия &laquo;количество теплоты&raquo;`, `Обозначение и единицы измерения количества теплоты`, `Определение количества теплоты при нагревании и охлаждении тела`, `Объяснение значений положительного и отрицательного количества теплоты`],
		},
	},
	test: {
		headerCategory: "Тест",
		header: "Тест по теории",
		color: "#fdbcff",
		spisok: {
			header: "Тест содержит",
			content: ["Вопросы по значениям определений", "Вопросы, требующие знание единиц измерений", "Вопросы на определение взаимодействий сред"],
		},
	},
	laba: {
		headerCategory: "Виртуальный эксперимент",
		header: "Лабораторная работа",
		color: "#9afeac",
		spisok: {
			header: "Цель работы",
			content: ["Проверка уравнения теплового баланса (сравнить количество теплоты, отданное горячей водой и полученное холодной водой, и объяснить полученный результат)."],
		},
	},
	final: {
		headerCategory: "Тест",
		header: "Финальный тест",
		color: "#fcee7c",
		spisok: {
			header: "Тест содержит",
			content: ["Задачи с использованием данных, полученных в ходе выполнения лабораторной работы", "Вопросы, требующие знание табличных значений"],
		},
	},
}

let laba_data
if (window.location.href.includes("final")) { laba_data = JSON.parse(getCookie("u")).lessons[lessonName].laba.data }
else { laba_data = [0, 0, 0, 0, 0, 0, 0] }
 
let tasks = {
	test: {
		amount: 10,
		q_0: {
			question: "Что такое количество теплоты?",
			answers: ["Масса тела", "Энергия, которую тело получает или теряет при теплопередаче", "Скорость движения тела", "Объем тела"],
			correct: 1,
			explanation: "Количество теплоты - это энергия, которую тело получает или теряет при теплопередаче."
		},
		q_1: {
			question: "Какая единица измерения количества теплоты в &laquo;СИ&raquo;?",
			answers: ["Грамм", "Секунда", "Джоуль", "Кельвин"],
			correct: 2,
			explanation: "Единицей измерения количества теплоты в &laquo;СИ&raquo; является джоуль."
		},
		q_2: {
			question: "Какие зависимости существуют между количеством теплоты и изменением температуры тела, а также массой тела?",
			answers: ["Прямо пропорциональная зависимость только между количеством теплоты и изменением температуры тела", "Прямо пропорциональная зависимость только между количеством теплоты и массой тела", "Прямо пропорциональная зависимость как между количеством теплоты и изменением температуры тела, так и между количеством теплоты и массой тела", "Обратно пропорциональная зависимость между количеством теплоты и изменением температуры тела и между количеством теплоты и массой тела"],
			correct: 2,
			explanation: "Между количеством теплоты и изменением температуры тела, а также между количеством теплоты и массой тела существует прямо пропорциональная зависимость."
		},
		q_3: {
			question: "Как определяется количество теплоты при нагревании тела или его охлаждении?",
			answers: ["Q = c·m·t", "Q = c·m·(t2 - t1)", "Q = m/t", "Q = c/t"],
			correct: 1,
			explanation: "Количество теплоты при нагревании тела или его определяется формулой Q = c·m·(t2 - t1)."
		},
		q_4: {
			question: "Что определяет количество теплоты, переданное или полученное телом при нагревании или охлаждении?",
			answers: ["Масса тела", "Изменение температуры тела", "Удельная теплоемкость вещества", "Все вышеперечисленное"],
			correct: 3,
			explanation: "Количество теплоты, переданное или полученное телом при нагревании или охлаждении, определяется произведением удельной теплоемкости вещества с, массы тела m и изменения его температуры (t2 − t1) или Δt."
		},
		q_5: {
			question: "Что происходит в замкнутой теплоизолированной системе при тепловом равновесии?",
			answers: ["Количество теплоты, переданное горячим телом, меньше количества теплоты, полученного холодным телом", "Количество теплоты, переданное горячим телом, больше количества теплоты, полученного холодным телом", "Количество теплоты, переданное горячим телом, равно количеству теплоты, полученному"],
			correct: 2,
			explanation: "Количество теплоты, переданное горячим телом, равно количеству теплоты, полученному."
		},
		q_6: {
			question: "Что происходит с количеством теплоты, передаваемой телом, если тело охлаждается?",
			answers: ["Оно увеличивается", "Оно уменьшается", "Оно остается неизменным", "Зависит от температуры тела"],
			correct: 1,
			explanation: "При охлаждении тела t2 < t1, результат расчета количества теплоты будет иметь отрицательное значение, что указывает на то, что энергия телом выделяется, а количество теплоты уменьшается."
		},
		q_7: {
			question: "Что такое теплоизолированная система?",
			answers: ["Система, в которой нет теплообмена с окружающей средой", "Система, в которой происходит теплообмен с окружающей средой", "Система, в которой температура не изменяется", "Система, в которой изменение температуры определяется только массой тела"],
			correct: 0,
			explanation: "Теплоизолированная система - это система, в которой не происходит теплообмена с окружающей средой, то есть количество теплоты в системе остается неизменным."
		},
		q_8: {
			question: "Какие факторы влияют на количество теплоты, передаваемой или получаемой телом при теплопередаче?",
			answers: ["Изменение температуры и массы тела", "Изменение температуры и объема тела", "Изменение массы и объема тела", "Изменение массы и давления тела"],
			correct: 0,
			explanation: "Объем тела не влияет на количество теплоты, передаваемой или получаемой телом при теплопередаче."
		},
		q_9: {
			question: "Что означает отрицательный знак в расчете количества теплоты при охлаждении тела?",
			answers: ["Энергия имеет отрицательное значение", "Тело поглощает энергию", "Энергия телом выделяется", "Тело не изменяет свою температуру"],
			correct: 2,
			explanation: "Отрицательный знак означает, что энергия телом выделяется"
		},
	},
	final: {
		amount: 8,
		q_0: {
			question: "Чему равна плотность воды?",
			answers: ["ρ ≈ 1200 кг/м3", "ρ ≈ 1000 кг/м3", "ρ ≈ 870 кг/м3", "ρ ≈ 2400 кг/м3"],
			correct: 1,
			explanation: "ρ<sub>воды</sub> ≈ 1000 кг/м3"
		},
		q_1: {
			question: `
			Определите массу воды в сосуде с <u>горячей водой</u>, исходя из данных проведённой лабораторной работы.
			<br>
			<p style="font-size: 20px">
			1 л = 0,001 m<sup>3</sup>; V<sub>г. в.</sub> = ${laba_data[3]} L<br>
			m<sub>г. в.</sub> - ? кг</p>`,
			answers: [`m = ${laba_data[3].toFixed(1)} кг`, `m = ${(laba_data[3] * 10).toFixed(1)} кг`, `m = ${(laba_data[3] * 1.2).toFixed(1)} кг`, `m = ${(laba_data[3] * 0.7).toFixed(1)} кг`],
			correct: 0,
			explanation: `m<sub>г. в.</sub> = ${laba_data[3].toFixed(1)} кг`
		},
		q_2: {
			question: `
			Определите массу воды в сосуде с <u>холодной водой</u>, исходя из данных проведённой лабораторной работы.
			<br>
			<p style="font-size: 20px">
			1 л = 0,001 m<sup>3</sup>; V<sub>х. в.</sub> = ${laba_data[1]} L<br>
			m<sub>х. в.</sub> - ? кг</p>`,
			answers: [`m = ${(laba_data[1] * 10).toFixed(1)} кг`, `m = ${(laba_data[1] * 1.2).toFixed(1)} кг`, `m = ${laba_data[1].toFixed(1)} кг`, `m = ${(laba_data[1] * 0.7).toFixed(1)} кг`],
			correct: 2,
			explanation: `m<sub>х. в.</sub> = ${laba_data[1].toFixed(1)} кг`
		},
		q_3: {
			question: "Чему равна удельная теплоёмкость воды?",
			answers: ["c ≈ 4400 Дж/(кг·°С)", "c ≈ 4000 Дж/(кг·°С)", "c ≈ 4600 Дж/(кг·°С)", "c ≈ 4200 Дж/(кг·°С)"],
			correct: 3,
			explanation: `c<sub>воды</sub> ≈ 4200 Дж/(кг·°С)`
		},
		q_4: {
			question: `
			Определите количество теплоты, отданное <u>горячей водой</u>, исходя из данных проведённой лабораторной работы, а также результатов, полученных ранее.
			<br>
			<p style="font-size: 20px">
			t<sub>г.в</sub> = ${laba_data[2].toFixed(1)} °С; t<sub>калориметр</sub> = ${laba_data[6].toFixed(1)} °С<br>
			Q<sub>2</sub> - ? Дж/кг
			</p>`,
			answers: [`Q ≈ ${(4200 * laba_data[3] * (laba_data[6] - laba_data[2])).toFixed(1)} Дж/кг`, `Q ≈ ${(4200 * laba_data[3] * (laba_data[1] - laba_data[2])).toFixed(1)} Дж/кг`, `Q ≈ ${(4201 * laba_data[3] * (laba_data[6] + laba_data[2])).toFixed(1)} Дж/кг`, `Q ≈ ${(4660 * laba_data[5] * (laba_data[6] - laba_data[2])).toFixed(1)} Дж/кг`],
			correct: 0,
			explanation: `Q<sub>2</sub> ≈ ${(4200 * laba_data[3] * (laba_data[6] - laba_data[2])).toFixed(1)} Дж/кг`
		},
		q_5: {
			question: `
			Определите количество теплоты, полученное <u>холодной водой</u>, исходя из данных проведённой лабораторной работы, а также результатов, полученных ранее.
			<br>
			<p style="font-size: 20px">
			t<sub>х.в</sub> = ${laba_data[0].toFixed(1)} °С; t<sub>калориметр</sub> = ${laba_data[6].toFixed(1)} °С<br>
			Q<sub>1</sub> - ? Дж/кг
			</p>`,
			answers: [`Q ≈ ${(4200 * laba_data[5] * (laba_data[6] - laba_data[0])).toFixed(1)} Дж/кг`, `Q ≈ ${(4200 * laba_data[1] * (laba_data[6] - laba_data[0])).toFixed(1)} Дж/кг`, `Q ≈ ${(4201 * laba_data[1] * (laba_data[6] + laba_data[2])).toFixed(1)} Дж/кг`, `Q ≈ ${(4660 * laba_data[1] * (laba_data[1] - laba_data[2])).toFixed(1)} Дж/кг`],
			correct: 1,
			explanation: `Q<sub>1</sub> ≈ ${(4200 * laba_data[1] * (laba_data[6] - laba_data[0])).toFixed(1)} Дж/кг`
		},
		q_6: {
			question: "Сравните Q<sub>2</sub> и Q<sub>1</sub>",
			answers: ["Q1 > Q2", "Q1 = Q2", "Q1 < Q2"],
			correct: 1,
			explanation: "Исходя из теории, количество теплоты, переданное горячим телом, равно количеству теплоты, полученному. По этой причине, ожидается, что Q<sub>1</sub> будет равен Q<sub>2</sub>"
		},
		q_7: {
			question: "Выберите подходящий вывод к проведённой лабораторной работе",
			answers: ["Проведя лабораторный эксперимент было доказано равенство переданной и полученной теплоты горячей и холодной водой соответственно. Доказана действительность уравнения теплового баланса", "Проведя лабораторный эксперимент не было доказано равенство переданной и полученной теплоты горячей и холодной водой соответственно. Доказана недействительность уравнения теплового баланса"],
			correct: 0,
			explanation: "Проведя лабораторный эксперимент было доказано равенство переданной и полученной теплоты горячей и холодной водой соответственно. Доказана действительность уравнения теплового баланса"
		},
	},
};
//coldwater_temp, coldwater_volume, hotwater_temp, hotwater_volume, COMPLETED, volume, water_temp